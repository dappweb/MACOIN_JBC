# 极差裂变机制更新需求文档

## 介绍

更新极差裂变机制的V1至V9等级要求和收益比例，优化团队奖励分配系统，提高用户参与积极性和团队发展激励。

## 术语表

- **极差奖励**: 基于团队层级差异的奖励机制
- **V等级**: 用户团队等级，从V1到V9
- **地址数要求**: 达到特定V等级所需的团队地址数量
- **极差收益比例**: 该等级用户可获得的奖励分配比例
- **团队地址**: 用户推荐网络中的有效地址数量

## 需求

### 需求 1: 更新V等级地址数要求

**用户故事**: 作为系统管理员，我需要更新V1-V9等级的地址数要求，以便优化团队发展激励机制。

#### 验收标准

1. WHEN 用户团队地址数达到10个 THEN 系统应将用户等级设置为V1
2. WHEN 用户团队地址数达到30个 THEN 系统应将用户等级设置为V2
3. WHEN 用户团队地址数达到100个 THEN 系统应将用户等级设置为V3
4. WHEN 用户团队地址数达到300个 THEN 系统应将用户等级设置为V4
5. WHEN 用户团队地址数达到1000个 THEN 系统应将用户等级设置为V5
6. WHEN 用户团队地址数达到3000个 THEN 系统应将用户等级设置为V6
7. WHEN 用户团队地址数达到10000个 THEN 系统应将用户等级设置为V7
8. WHEN 用户团队地址数达到30000个 THEN 系统应将用户等级设置为V8
9. WHEN 用户团队地址数达到100000个 THEN 系统应将用户等级设置为V9

### 需求 2: 更新极差收益比例

**用户故事**: 作为用户，我希望根据我的V等级获得相应比例的极差奖励，以激励我发展更大的团队。

#### 验收标准

1. WHEN 用户等级为V1 THEN 系统应分配5%的极差收益比例
2. WHEN 用户等级为V2 THEN 系统应分配10%的极差收益比例
3. WHEN 用户等级为V3 THEN 系统应分配15%的极差收益比例
4. WHEN 用户等级为V4 THEN 系统应分配20%的极差收益比例
5. WHEN 用户等级为V5 THEN 系统应分配25%的极差收益比例
6. WHEN 用户等级为V6 THEN 系统应分配30%的极差收益比例
7. WHEN 用户等级为V7 THEN 系统应分配35%的极差收益比例
8. WHEN 用户等级为V8 THEN 系统应分配40%的极差收益比例
9. WHEN 用户等级为V9 THEN 系统应分配45%的极差收益比例

### 需求 3: 等级计算和更新机制

**用户故事**: 作为系统，我需要实时计算用户的团队地址数并更新其V等级，确保奖励分配的准确性。

#### 验收标准

1. WHEN 用户的团队地址数发生变化 THEN 系统应重新计算其V等级
2. WHEN 用户V等级发生变化 THEN 系统应更新其极差收益比例
3. WHEN 计算团队地址数 THEN 系统应统计所有有效的下级推荐地址
4. WHEN 用户达到更高等级 THEN 系统应立即应用新的收益比例
5. WHEN 用户等级降级 THEN 系统应相应调整其收益比例

### 需求 4: 前端显示更新

**用户故事**: 作为用户，我希望在前端界面看到更新后的V等级要求和收益比例信息。

#### 验收标准

1. WHEN 用户查看等级信息 THEN 系统应显示当前V等级和对应的收益比例
2. WHEN 用户查看升级要求 THEN 系统应显示下一等级所需的地址数
3. WHEN 用户查看团队统计 THEN 系统应显示当前团队地址数和等级进度
4. WHEN 显示等级表 THEN 系统应展示完整的V1-V9等级要求和收益比例
5. WHEN 用户等级变化 THEN 前端应实时更新显示信息

### 需求 5: 奖励分配逻辑更新

**用户故事**: 作为系统，我需要根据新的收益比例正确分配极差奖励，确保奖励计算的准确性。

#### 验收标准

1. WHEN 分配极差奖励 THEN 系统应使用用户当前V等级对应的收益比例
2. WHEN 计算奖励金额 THEN 系统应基于新的比例进行精确计算
3. WHEN 多个等级用户参与分配 THEN 系统应按各自比例正确分配奖励
4. WHEN 奖励分配完成 THEN 系统应记录详细的分配日志
5. WHEN 验证奖励总额 THEN 分配的奖励总和应等于可分配的奖励池

### 需求 6: 数据迁移和兼容性

**用户故事**: 作为系统管理员，我需要确保现有用户数据能够平滑迁移到新的等级体系。

#### 验收标准

1. WHEN 系统更新后 THEN 现有用户的V等级应根据新标准重新计算
2. WHEN 迁移用户数据 THEN 系统应保持用户的团队地址数统计准确性
3. WHEN 应用新规则 THEN 系统应确保所有用户都使用新的收益比例
4. WHEN 验证迁移结果 THEN 所有用户的等级应符合新的地址数要求
5. WHEN 迁移完成 THEN 系统应生成迁移报告供管理员审核