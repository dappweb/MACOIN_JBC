# 前端功能测试清单

## 📋 测试环境

- **新协议合约地址**: `0x0897Cee05E43B2eCf331cd80f881c211eb86844E`
- **JBC Token 地址**: `0x1Bf9ACe2485BC3391150762a109886d0B85f40Da`
- **网络**: MC Chain (Chain ID: 88813)

---

## ✅ 基础功能测试

### 1. 连接钱包
- [ ] 可以连接 MetaMask 或其他钱包
- [ ] 可以切换到 MC Chain 网络
- [ ] 网络切换提示正常显示
- [ ] 钱包地址正确显示

### 2. 余额显示
- [ ] MC 余额正确显示
- [ ] JBC 余额正确显示
- [ ] 余额刷新功能正常

---

## 🎫 推荐人功能测试

### 1. 推荐人绑定
- [ ] 未绑定推荐人时显示提示
- [ ] 可以通过 URL 参数自动绑定推荐人 (`?ref=0x...`)
- [ ] 可以手动输入推荐人地址绑定
- [ ] 绑定成功后状态更新
- [ ] 防止自己绑定自己
- [ ] 防止重复绑定

### 2. 推荐人状态检查
- [ ] 已绑定推荐人时显示推荐人地址
- [ ] 管理员无需绑定推荐人（显示豁免提示）
- [ ] 推荐人状态正确更新

---

## 🎟️ 门票购买功能测试

### 1. 购买门票前置条件
- [ ] 未绑定推荐人时显示警告并禁用购买按钮
- [ ] 已绑定推荐人时可以购买
- [ ] 管理员可以购买（无需推荐人）

### 2. 门票购买流程
- [ ] 可以选择门票等级（100/300/500/1000 MC）
- [ ] 余额不足时显示提示
- [ ] 购买门票交易成功
- [ ] 购买后门票信息正确显示
- [ ] 购买后余额正确更新

### 3. 门票状态显示
- [ ] 当前门票金额正确显示
- [ ] 门票购买时间正确显示
- [ ] 门票退出状态正确显示
- [ ] 历史最大门票金额正确显示

---

## 💎 质押流动性功能测试

### 1. 质押前置条件
- [ ] 必须先购买门票才能质押
- [ ] 门票过期时不能质押
- [ ] 已退出时不能质押

### 2. 质押流程
- [ ] 可以选择质押周期（7/15/30 天）
- [ ] 质押金额计算正确（门票 × 1.5）
- [ ] 余额不足时显示提示
- [ ] 质押交易成功
- [ ] 质押后状态正确更新

### 3. 质押信息显示
- [ ] 质押列表正确显示
- [ ] 质押金额正确显示
- [ ] 质押周期正确显示
- [ ] 质押开始时间正确显示
- [ ] 质押状态（活跃/已完成）正确显示

---

## 💰 奖励领取功能测试

### 1. 奖励计算
- [ ] 静态奖励正确计算
- [ ] 动态奖励正确计算
- [ ] 奖励总额正确显示

### 2. 奖励领取
- [ ] 可以领取奖励
- [ ] 奖励领取交易成功
- [ ] 奖励按 50% MC + 50% JBC 分配
- [ ] 领取后余额正确更新
- [ ] 达到收益上限后自动退出

---

## 🔄 赎回功能测试

### 1. 赎回前置条件
- [ ] 只能赎回已到期的质押
- [ ] 未到期时显示倒计时
- [ ] 已到期时可以赎回

### 2. 赎回流程
- [ ] 赎回金额计算正确（扣除 1% 手续费）
- [ ] 赎回交易成功
- [ ] 赎回后质押状态更新
- [ ] 赎回后余额正确更新

---

## 🔀 交换功能测试

### 1. MC 换 JBC
- [ ] 可以输入 MC 数量
- [ ] 预估 JBC 数量正确显示
- [ ] 滑点提示正确显示（50% 税费）
- [ ] 余额不足时显示提示
- [ ] 交换交易成功
- [ ] 交换后余额正确更新

### 2. JBC 换 MC
- [ ] 可以输入 JBC 数量
- [ ] 需要先授权 JBC Token
- [ ] 授权功能正常
- [ ] 预估 MC 数量正确显示
- [ ] 滑点提示正确显示（25% 税费）
- [ ] 余额不足时显示提示
- [ ] 交换交易成功
- [ ] 交换后余额正确更新

### 3. 流动性检查
- [ ] 流动性不足时显示提示
- [ ] 流动性信息正确显示

---

## 👥 团队功能测试

### 1. 团队信息显示
- [ ] 当前等级正确显示
- [ ] 团队人数正确显示
- [ ] 活跃直推数正确显示
- [ ] 等级奖励比例正确显示

### 2. 直推网络
- [ ] 直推列表正确显示
- [ ] 直推地址正确显示
- [ ] 直推门票金额正确显示
- [ ] 直推状态正确显示

### 3. 推荐链接
- [ ] 可以复制推荐链接
- [ ] 推荐链接格式正确
- [ ] 分享功能正常

---

## 📊 数据面板测试

### 1. 首页数据
- [ ] MC 余额正确显示
- [ ] JBC 持有量正确显示
- [ ] 累计收益正确显示
- [ ] 当前等级正确显示
- [ ] 团队人数正确显示

### 2. 价格图表
- [ ] JBC 价格图表正确显示
- [ ] 价格数据正确加载
- [ ] 图表交互正常

---

## 🔧 管理员功能测试

### 1. 管理员权限
- [ ] 只有 Owner 可以访问管理员面板
- [ ] 非 Owner 无法访问

### 2. 配置管理
- [ ] 可以更新分配比例
- [ ] 可以更新交换税费
- [ ] 可以更新赎回手续费
- [ ] 可以更新钱包地址
- [ ] 可以更新功能开关

### 3. 用户管理
- [ ] 可以搜索用户
- [ ] 可以查看用户信息
- [ ] 可以更新推荐人
- [ ] 可以更新团队数量

### 4. 流动性管理
- [ ] 可以添加 MC 流动性
- [ ] 可以添加 JBC 流动性
- [ ] 可以提取 MC 流动性
- [ ] 可以提取 JBC 流动性

### 5. JBC 代币管理
- [ ] 可以查看协议 JBC 余额
- [ ] 可以查看总供应量
- [ ] 可以转账 JBC 到协议
- [ ] 可以转账 JBC 从协议
- [ ] 可以转账 JBC 到地址
- [ ] 可以更新 JBC Token 地址

---

## 📜 历史记录测试

### 1. 交易历史
- [ ] 交易列表正确显示
- [ ] 交易类型正确显示
- [ ] 交易金额正确显示
- [ ] 交易时间正确显示
- [ ] 交易状态正确显示

### 2. 收益明细
- [ ] 收益列表正确显示
- [ ] 收益类型正确显示
- [ ] MC 收益正确显示
- [ ] JBC 收益正确显示
- [ ] 收益时间正确显示

---

## ⚠️ 错误处理测试

### 1. 网络错误
- [ ] 网络断开时显示提示
- [ ] 网络恢复后自动重连

### 2. 交易错误
- [ ] 余额不足时显示错误
- [ ] 交易被拒绝时显示错误
- [ ] Gas 不足时显示错误
- [ ] 合约错误时显示友好提示

### 3. 数据错误
- [ ] 数据加载失败时显示提示
- [ ] 数据为空时显示提示

---

## 🎨 UI/UX 测试

### 1. 响应式设计
- [ ] 桌面端显示正常
- [ ] 移动端显示正常
- [ ] 平板端显示正常

### 2. 加载状态
- [ ] 数据加载时显示加载动画
- [ ] 交易处理时显示处理状态
- [ ] 加载完成后状态更新

### 3. 提示信息
- [ ] Toast 提示正常显示
- [ ] 错误提示清晰明确
- [ ] 成功提示正确显示

---

## 🔍 性能测试

### 1. 页面加载
- [ ] 页面加载速度正常
- [ ] 数据加载速度正常

### 2. 交互响应
- [ ] 按钮点击响应及时
- [ ] 表单输入流畅
- [ ] 页面滚动流畅

---

## 📝 测试记录

### 测试日期: ___________

### 测试人员: ___________

### 测试环境: 
- 浏览器: ___________
- 钱包: ___________
- 网络: MC Chain

### 测试结果:
- ✅ 通过
- ❌ 失败
- ⚠️ 部分通过

### 问题记录:
1. ___________
2. ___________
3. ___________

---

## 🎯 测试优先级

### P0 (必须通过)
- 连接钱包
- 绑定推荐人
- 购买门票
- 质押流动性
- 领取奖励

### P1 (重要)
- 赎回功能
- 交换功能
- 管理员功能

### P2 (一般)
- 历史记录
- UI/UX
- 性能

