# Cloudflare Pages 配置文件
name = "jinbao-protocol"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Pages 配置
pages_build_output_dir = "dist"

# 生产环境配置
[env.production]
name = "jinbao-protocol-prod"
compatibility_date = "2024-01-01"

[env.production.vars]
ENVIRONMENT = "production"
NODE_ENV = "production"
DAILY_BURN_AMOUNT = "500"
MAX_BURN_AMOUNT = "5000"
BURN_PERCENTAGE = "0.1"
MIN_BALANCE_THRESHOLD = "1000"

# 测试环境配置
[env.staging]
name = "jinbao-protocol-staging"
compatibility_date = "2024-01-01"

[env.staging.vars]
ENVIRONMENT = "staging"
NODE_ENV = "development"
DAILY_BURN_AMOUNT = "10"
MAX_BURN_AMOUNT = "100"
BURN_PERCENTAGE = "0.01"
MIN_BALANCE_THRESHOLD = "50"

# 开发环境配置
[env.development]
name = "jinbao-protocol-dev"
compatibility_date = "2024-01-01"

[env.development.vars]
ENVIRONMENT = "development"
NODE_ENV = "development"
DAILY_BURN_AMOUNT = "1"
MAX_BURN_AMOUNT = "10"
BURN_PERCENTAGE = "0.001"
MIN_BALANCE_THRESHOLD = "5"

# 敏感信息通过 secrets 管理
# 使用以下命令设置生产环境 secrets:
# wrangler pages secret put JBC_CONTRACT_ADDRESS --project-name="jinbao-protocol-prod"
# wrangler pages secret put PROTOCOL_CONTRACT_ADDRESS --project-name="jinbao-protocol-prod"
# wrangler pages secret put PRIVATE_KEY --project-name="jinbao-protocol-prod"
# wrangler pages secret put RPC_URL --project-name="jinbao-protocol-prod"
# wrangler pages secret put TELEGRAM_BOT_TOKEN --project-name="jinbao-protocol-prod"
# wrangler pages secret put TELEGRAM_CHAT_ID --project-name="jinbao-protocol-prod"