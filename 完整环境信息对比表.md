# 🌍 Jinbao Protocol 完整环境信息对比表

## 📊 环境概览

| 项目 | Test环境 (test分支) | P-Prod环境 (p-prod分支) |
|------|-------------------|----------------------|
| **环境用途** | 🧪 测试/预览环境 | 🏭 生产环境 |
| **Git分支** | `test` | `p-prod` |
| **部署状态** | ✅ 已部署 | ✅ 已部署 |

---

## 🌐 部署信息

### 📡 访问地址
| 项目 | Test环境 | P-Prod环境 |
|------|---------|-----------|
| **主要访问地址** | https://jbc-ac-preview.pages.dev | https://jbc.ac |
| **备用地址** | - | https://jbc-ac-production.pages.dev |
| **Cloudflare项目名** | `jbc-ac-preview` | `jbc-ac-production` |

### 🚀 自动部署配置
| 项目 | Test环境 | P-Prod环境 |
|------|---------|-----------|
| **GitHub工作流** | `.github/workflows/deploy-preview.yml` | `.github/workflows/deploy-production.yml` |
| **触发条件** | 推送到 `test` 分支 | 推送到 `p-prod` 分支 |
| **手动触发** | ✅ 支持 | ✅ 支持 |

---

## 📋 智能合约信息

### 🏛️ 合约地址
| 合约类型 | Test环境 | P-Prod环境 |
|---------|---------|-----------|
| **协议合约** | `0x7a216BeA62eF7629904E0d30b24F6842c9b0d660` | `0x1EC3576609b2E1D834570Bd56A1A51fb24fD7FB5` |
| **JBC代币合约** | `0xA743cB357a9f59D349efB7985072779a094658dD` | `0x1Bf9ACe2485BC3391150762a109886d0B85f40Da` |
| **MC代币合约** | `0xB2B8777BcBc7A8DEf49F022773d392a8787cf9EF` | `0xB2B8777BcBc7A8DEf49F022773d392a8787cf9EF` |

### 👑 合约所有者
| 合约类型 | Test环境 | P-Prod环境 |
|---------|---------|-----------|
| **协议合约所有者** | `0x4C10831CBcF9884ba72051b5287b6c87E4F74A48` | `0xDb817e0d21a134f649d24b91E39d42E7eeC52a65` |
| **JBC代币所有者** | `0x4C10831CBcF9884ba72051b5287b6c87E4F74A48` | `0x4C10831CBcF9884ba72051b5287b6c87E4F74A48` |

### ⚙️ 合约状态
| 功能状态 | Test环境 | P-Prod环境 |
|---------|---------|-----------|
| **流动性启用** | ✅ YES | ✅ YES |
| **赎回启用** | ✅ YES | ✅ YES |
| **紧急暂停** | ❌ NO | ❌ NO |

---

## 🔑 管理员权限分析

### 🎯 目标地址权限 (`0x4C10831CBcF9884ba72051b5287b6c87E4F74A48`)

| 权限类型 | Test环境 | P-Prod环境 |
|---------|---------|-----------|
| **协议管理员** | ✅ **完全控制** | ❌ **无权限** |
| **JBC代币管理员** | ✅ **完全控制** | ✅ **完全控制** |
| **风险等级** | 🔴 **高风险** | 🟡 **中等风险** |

### 📋 具体权限对比

#### Test环境权限 (完全管理员)
✅ **协议管理功能 (14项)**:
1. 紧急暂停/恢复 (`emergencyPause`/`emergencyUnpause`)
2. 合约升级授权 (`_authorizeUpgrade`)
3. 钱包地址配置 (`setWallets`)
4. 分配比例配置 (`setDistributionConfig`)
5. 交易税费设置 (`setSwapTaxes`)
6. 赎回费用设置 (`setRedemptionFeePercent`)
7. 操作状态设置 (`setOperationalStatus`)
8. 门票灵活期设置 (`setTicketFlexibilityDuration`)
9. 添加流动性 (`addLiquidity`)
10. 提取层级奖励池 (`withdrawLevelRewardPool`)
11. 提取交换储备 (`withdrawSwapReserves`)
12. 紧急代币救援 (`rescueTokens`)
13. 管理员设置推荐人 (`adminSetReferrer`)
14. 用户数据管理

✅ **JBC代币管理功能**:
- 代币铸造 (如果支持)
- 代币销毁
- 所有权转移

#### P-Prod环境权限 (仅JBC代币)
❌ **协议管理功能**: 无任何权限
✅ **JBC代币管理功能**: 完全控制

---

## 🌐 网络配置

### 📡 区块链网络
| 配置项 | Test环境 | P-Prod环境 |
|-------|---------|-----------|
| **网络名称** | MC Chain | MC Chain |
| **Chain ID** | 88813 | 88813 |
| **RPC URL** | https://chain.mcerscan.com/ | https://chain.mcerscan.com/ |
| **区块浏览器** | https://mcerscan.com/ | https://mcerscan.com/ |

---

## 💰 钱包地址配置

### 🏦 系统钱包地址
| 钱包类型 | 地址 | 用途 |
|---------|------|------|
| **营销钱包** | `0xdb817e0d21a134f649d24b91e39d42e7eec52a65` | 接收营销费用 |
| **国库钱包** | `0x5067d182d5f15511f0c71194a25cc67b05c20b02` | 接收国库费用 |
| **LP注入钱包** | `0x03c5d3cf3e358a00fa446e3376eab047d1ce46f2` | 流动性池管理 |
| **回购钱包** | `0x979373c675c25e6cb2fd49b571dcadcb15a5a6d8` | 代币回购操作 |

---

## ⚙️ 协议参数配置

### 💎 奖励分配比例
| 奖励类型 | Test环境 | P-Prod环境 |
|---------|---------|-----------|
| **直推奖励** | 25% | 25% |
| **层级奖励** | 15% | 15% |
| **营销费用** | 5% | 5% |
| **回购费用** | 5% | 5% |
| **LP注入** | 25% | 25% |
| **国库费用** | 25% | 25% |

### 💸 费用配置
| 费用类型 | Test环境 | P-Prod环境 |
|---------|---------|-----------|
| **赎回费用** | 1% | 1% |
| **买入税费** | 5.0% (50/1000) | 5.0% (50/1000) |
| **卖出税费** | 2.5% (25/1000) | 2.5% (25/1000) |

### ⏰ 时间参数
| 参数 | Test环境 | P-Prod环境 |
|------|---------|-----------|
| **门票灵活期** | 72小时 | 72小时 |
| **质押周期** | 7/15/30天 | 7/15/30天 |
| **时间单位** | 60秒 (测试) | 86400秒 (生产) |

---

## 🎯 功能特性对比

### 🏆 奖励系统
| 功能 | Test环境 | P-Prod环境 |
|------|---------|-----------|
| **静态奖励** | ✅ 50% MC + 50% JBC | ✅ 50% MC + 50% JBC |
| **直推奖励** | ✅ 双币种显示 | ✅ 双币种显示 |
| **层级奖励** | ✅ 双币种显示 | ✅ 双币种显示 |
| **级差奖励** | ✅ 50% MC + 50% JBC | ✅ 50% MC + 50% JBC |

### 🎫 门票系统
| 门票等级 | Test环境 | P-Prod环境 |
|---------|---------|-----------|
| **基础门票** | 100 MC | 100 MC |
| **银牌门票** | 300 MC | 300 MC |
| **金牌门票** | 500 MC | 500 MC |
| **钻石门票** | 1000 MC | 1000 MC |

### 💧 流动性挖矿
| 质押周期 | 日收益率 | Test环境 | P-Prod环境 |
|---------|---------|---------|-----------|
| **7天** | 1.33% | ✅ 支持 | ✅ 支持 |
| **15天** | 1.67% | ✅ 支持 | ✅ 支持 |
| **30天** | 2.00% | ✅ 支持 | ✅ 支持 |

---

## 🔧 环境变量配置

### 🏭 生产环境 (P-Prod)
```bash
# Cloudflare配置
CLOUDFLARE_API_TOKEN=your_api_token
CLOUDFLARE_ACCOUNT_ID=your_account_id

# 合约地址
PROD_JBC_CONTRACT_ADDRESS=0x1Bf9ACe2485BC3391150762a109886d0B85f40Da
PROD_PROTOCOL_CONTRACT_ADDRESS=0x1EC3576609b2E1D834570Bd56A1A51fb24fD7FB5
PROD_PRIVATE_KEY=your_production_private_key

# 网络配置
MC_RPC_URL=https://chain.mcerscan.com/

# 燃烧配置
DAILY_BURN_AMOUNT=500
MAX_BURN_AMOUNT=5000
BURN_PERCENTAGE=0.1
MIN_BALANCE_THRESHOLD=1000
```

### 🧪 测试环境 (Test)
```bash
# Cloudflare配置
CLOUDFLARE_API_TOKEN=your_api_token
CLOUDFLARE_ACCOUNT_ID=your_account_id

# 合约地址
TEST_JBC_CONTRACT_ADDRESS=0xA743cB357a9f59D349efB7985072779a094658dD
TEST_PROTOCOL_CONTRACT_ADDRESS=0x7a216BeA62eF7629904E0d30b24F6842c9b0d660
TEST_PRIVATE_KEY=your_test_private_key

# 网络配置
MC_RPC_URL=https://chain.mcerscan.com/

# 燃烧配置 (测试值)
DAILY_BURN_AMOUNT=10
MAX_BURN_AMOUNT=100
BURN_PERCENTAGE=0.01
MIN_BALANCE_THRESHOLD=50
```

---

## 🚀 部署流程对比

### 📦 构建和测试
| 步骤 | Test环境 | P-Prod环境 |
|------|---------|-----------|
| **依赖安装** | ✅ npm ci | ✅ npm ci |
| **前端构建** | ✅ npm run build | ✅ npm run build |
| **测试运行** | ✅ npm run test:all | ✅ npm run test:all |
| **构建产物** | dist/ + functions/ | dist/ + functions/ |

### 🌐 部署配置
| 配置项 | Test环境 | P-Prod环境 |
|-------|---------|-----------|
| **项目名称** | jbc-ac-preview | jbc-ac-production |
| **兼容日期** | 2024-01-01 | 2024-01-01 |
| **兼容标志** | nodejs_compat | nodejs_compat |
| **健康检查** | ✅ 60秒等待 | ✅ 60秒等待 |

---

## 📊 监控和通知

### 📢 Telegram通知
| 事件 | Test环境 | P-Prod环境 |
|------|---------|-----------|
| **部署成功** | ✅ 自动通知 | ✅ 自动通知 |
| **部署失败** | ✅ 自动通知 | ✅ 自动通知 |
| **通知内容** | 预览环境状态 | 生产环境状态 |

### 🔍 健康检查
| 检查项 | Test环境 | P-Prod环境 |
|-------|---------|-----------|
| **前端可访问性** | HTTP 200检查 | HTTP 200检查 |
| **API端点** | /api/health | /api/health |
| **SSL证书** | 自动配置 | 自动配置 |

---

## 🛡️ 安全配置

### 🔐 访问控制
| 安全项 | Test环境 | P-Prod环境 |
|-------|---------|-----------|
| **HTTPS强制** | ✅ 启用 | ✅ 启用 |
| **SSL/TLS** | Full (strict) | Full (strict) |
| **CSP策略** | ✅ 启用 | ✅ 启用 |
| **错误报告** | ✅ 启用 | ✅ 启用 |

### 🔑 密钥管理
| 密钥类型 | Test环境 | P-Prod环境 |
|---------|---------|-----------|
| **私钥存储** | GitHub Secrets | GitHub Secrets |
| **API密钥** | 加密存储 | 加密存储 |
| **RPC访问** | 受限访问 | 受限访问 |

---

## 📈 性能配置

### ⚡ 优化设置
| 配置项 | Test环境 | P-Prod环境 |
|-------|---------|-----------|
| **构建优化** | ✅ 启用 | ✅ 启用 |
| **代码分割** | ✅ 启用 | ✅ 启用 |
| **缓存策略** | 标准缓存 | 积极缓存 |
| **CDN加速** | Cloudflare | Cloudflare |

---

## 🎯 总结对比

### 🔄 主要差异
| 差异项 | Test环境 | P-Prod环境 |
|-------|---------|-----------|
| **管理权限** | 完全控制 | 分离控制 |
| **合约地址** | 独立部署 | 独立部署 |
| **域名配置** | 子域名 | 主域名 |
| **安全级别** | 开发友好 | 生产安全 |
| **监控级别** | 基础监控 | 全面监控 |

### ✅ 相同配置
- 🌐 相同的区块链网络 (MC Chain)
- 💰 相同的系统钱包地址
- 🎯 相同的协议参数配置
- 🏆 相同的奖励机制
- 🔧 相同的技术栈

---

**📅 文档生成时间**: 2025年12月30日  
**🔍 验证方法**: 链上合约调用 + 配置文件分析  
**📊 数据来源**: GitHub配置 + 智能合约状态 + Cloudflare部署信息